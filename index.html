<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MKOPA Unlock Portal — Modern</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Bootstrap (only for grid) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root{
      --bg-1:#071022; --bg-2:#0e2233; --glass: rgba(255,255,255,0.04);
      --accent:#25a6ff; --accent-2:#00e0a3; --muted:#b6c3ce;
      --card-radius:18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Poppins,system-ui,Segoe UI,Helvetica,Arial;
      background:radial-gradient(1200px 600px at 10% 10%, rgba(37,166,255,0.06), transparent),
                 linear-gradient(180deg,var(--bg-1),var(--bg-2));
      color:#eaf6ff; -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale; padding:32px;
    }

    .wrap{max-width:1100px;margin:0 auto}
    .portal{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--card-radius); padding:28px; overflow:hidden; box-shadow:0 10px 40px rgba(2,10,20,0.6);
      display:grid; grid-template-columns: 380px 1fr; gap:24px; align-items:start;
    }

    /* responsive fallback */
    @media (max-width: 980px){.portal{grid-template-columns:1fr}}

    /* left column */
    .left{
      padding:20px; border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border:1px solid rgba(255,255,255,0.03);
    }

    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:72px;height:72px;border-radius:12px;object-fit:contain;filter:drop-shadow(0 6px 18px rgba(0,0,0,0.6))}
    .brand .title{font-weight:600;font-size:1.05rem}
    .brand .sub{font-size:0.78rem;color:var(--muted)}

    .badge-sec{display:inline-flex;gap:8px;align-items:center;background:linear-gradient(90deg, rgba(37,166,255,0.12), rgba(0,224,163,0.06));padding:6px 10px;border-radius:999px;font-weight:600;color:var(--accent)}

    .kpi{margin-top:18px;display:flex;flex-direction:column;gap:10px}
    .kpi .item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.02)}
    .kpi .label{font-size:0.9rem;color:var(--muted)}
    .kpi .val{font-weight:600}

    /* Steps progress */
    .steps{margin-top:20px}
    .step-pill{display:flex;gap:8px;align-items:center;margin-bottom:10px}
    .step-icon{width:36px;height:36px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center}
    .step-label{font-size:0.9rem}

    /* right column (main) */
    .main{padding:20px;border-radius:14px; min-height:420px; background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.006)); border:1px solid rgba(255,255,255,0.02)}

    .card{background:transparent}
    h2{margin:0 0 12px 0}

    form .row{gap:12px}

    /* floating inputs */
    .field{position:relative;margin-bottom:14px}
    .field input,.field select{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:inherit}
    .field label{position:absolute;left:14px;top:12px;font-size:0.85rem;color:var(--muted);pointer-events:none;transition:0.18s}
    .field input:focus + label,.field input:not(:placeholder-shown) + label{top:-8px;left:12px;background:var(--bg-2);padding:0 6px;font-size:0.72rem;color:var(--accent)}

    .btn-primary{background:linear-gradient(90deg,var(--accent),#00c6ff);border:none;color:#012; font-weight:700; padding:12px 16px;border-radius:12px}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:10px 12px;border-radius:10px}

    /* terminal */
    .terminal{background:#02040a;border-radius:10px;padding:12px;font-family:monospace;font-size:0.85rem;color:#9ae0ff;box-shadow:inset 0 0 30px rgba(0,0,0,0.6)}
    .term-line{opacity:0; transform:translateY(6px); animation:termIn 0.45s forwards;}
    @keyframes termIn{to{opacity:1;transform:none}}

    /* progress */
    .progress-wrap{margin-top:14px}
    .prog{height:12px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:999px;overflow:hidden}
    .prog .fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent-2));transition:width 600ms cubic-bezier(.2,.9,.2,1)}

    /* unlock success */
    .success{display:flex;flex-direction:column;align-items:center;gap:8px}
    .check{width:96px;height:96px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg, rgba(37,166,255,0.12), rgba(0,224,163,0.08));border:1px solid rgba(255,255,255,0.03)}

    /* small helpers */
    .muted{color:var(--muted)}
    .small{font-size:0.85rem}

    /* animations */
    .pulse{animation:pulse 2s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(37,166,255,0.12)}70%{box-shadow:0 0 0 20px rgba(37,166,255,0)}100%{box-shadow:0 0 0 0 rgba(37,166,255,0)}}

    footer{margin-top:18px;text-align:center;color:var(--muted);font-size:0.82rem}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="portal" role="application" aria-labelledby="portalTitle">

      <!-- LEFT: Brand + KPIs + Steps -->
      <aside class="left" aria-hidden="false">
        <div class="brand">
          <img src="https://images.seeklogo.com/logo-png/55/1/m-kopa-logo-png_seeklogo-559571.png" alt="MKOPA"/>
          <div>
            <div class="title">MKOPA Unlock Portal</div>
            <div class="sub">Authorized service — modern demo</div>
          </div>
        </div>

        <div style="margin-top:14px;display:flex;justify-content:space-between;align-items:center">
          <div class="badge-sec"><i class="fas fa-lock"></i><span style="margin-left:8px">SECURE</span></div>
          <div class="muted small">v3.2.1</div>
        </div>

        <div class="kpi">
          <div class="item"><div class="label">Active sessions</div><div class="val" id="kpi-sessions">3</div></div>
          <div class="item"><div class="label">Avg unlocking time</div><div class="val">4m 20s</div></div>
          <div class="item"><div class="label">Support</div><div class="val">+254 780 634300</div></div>
        </div>

        <div class="steps" aria-hidden="false">
          <div class="step-pill"><div class="step-icon"><i class="fas fa-mobile-screen-button"></i></div><div class="step-label">1. Device Info</div></div>
          <div class="step-pill"><div class="step-icon"><i class="fas fa-user-check"></i></div><div class="step-label">2. Verification</div></div>
          <div class="step-pill"><div class="step-icon"><i class="fas fa-wrench"></i></div><div class="step-label">3. Unlocking</div></div>
          <div class="step-pill"><div class="step-icon"><i class="fas fa-check-circle"></i></div><div class="step-label">4. Complete</div></div>
        </div>

      </aside>

      <!-- RIGHT: Main flow -->
      <main class="main" id="main">

        <!-- Step container -->
        <section id="step-device" class="step" aria-labelledby="deviceTitle">
          <h2 id="deviceTitle">Device Information</h2>
          <p class="muted small">Provide correct device details. This demo performs a visual simulation only — it does not bypass device protections.</p>

          <form id="deviceForm" autocomplete="off">
            <div class="row">
              <div class="col-md-6">
                <div class="field">
                  <input id="deviceModel" placeholder=" " required>
                  <label for="deviceModel">Device model (e.g. Samsung A10)</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <input id="imei" placeholder=" " inputmode="numeric" pattern="[0-9]{15}" maxlength="15" required>
                  <label for="imei">IMEI (15 digits)</label>
                </div>
              </div>

              <div class="col-md-6">
                <div class="field">
                  <input id="phone" placeholder=" " inputmode="tel" required>
                  <label for="phone">Phone number (e.g. 254712345678)</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <input id="mpesa" placeholder=" " required>
                  <label for="mpesa">MPESA Transaction ID</label>
                </div>
              </div>
            </div>

            <div style="display:flex;gap:10px;margin-top:12px">
              <button type="submit" class="btn-primary" id="toVerify">Verify & Next</button>
              <button type="button" class="btn-ghost" id="prefill">Auto-fill demo</button>
            </div>
          </form>

          <div style="margin-top:16px">
            <div class="muted small">Device detection</div>
            <div style="display:flex;gap:10px;margin-top:8px">
              <div style="flex:1">
                <div class="kpi item"><div class="label">Battery</div><div class="val" id="batteryVal">--%</div></div>
              </div>
              <div style="flex:1">
                <div class="kpi item"><div class="label">Network</div><div class="val" id="netVal">--</div></div>
              </div>
            </div>
          </div>
        </section>

        <!-- Verification step -->
        <section id="step-verify" class="step" style="display:none">
          <h2>Admin Verification</h2>
          <p class="muted small">Enter admin credentials to authorize unlock. (Demo: password is <strong>letmein</strong>)</p>

          <div style="display:grid;grid-template-columns:1fr 320px;gap:18px">
            <div>
              <div class="field"><input id="adminPass" placeholder=" " type="password"><label for="adminPass">Admin password</label></div>
              <div style="display:flex;gap:8px;margin-top:6px">
                <button class="btn-primary" id="authorize">Authorize</button>
                <button class="btn-ghost" id="backToDevice">Back</button>
              </div>

              <div id="summary" style="margin-top:14px;background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)"></div>
            </div>

            <div>
              <div style="border-radius:10px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.015), transparent);border:1px solid rgba(255,255,255,0.02)">
                <div class="muted small">Request metadata</div>
                <div style="margin-top:10px">
                  <div class="kpi item"><div class="label">Device ID</div><div class="val" id="deviceId">--</div></div>
                  <div class="kpi item"><div class="label">IP (visual)</div><div class="val" id="ipFake">--</div></div>
                  <div class="kpi item"><div class="label">ISP (sim)</div><div class="val" id="ispFake">--</div></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Unlocking step -->
        <section id="step-unlock" class="step" style="display:none">
          <h2>Unlocking</h2>
          <p class="muted small">Simulation in progress — this demo does NOT bypass manufacturer protections.</p>

          <div class="terminal" id="terminal" aria-live="polite" style="margin-top:10px">
            <!-- lines injected by JS -->
          </div>

          <div class="progress-wrap">
            <div style="display:flex;justify-content:space-between;margin-top:12px"><div class="muted small">Progress</div><div class="muted small" id="progPct">0%</div></div>
            <div class="prog" aria-hidden="false" style="margin-top:8px"><div class="fill" id="progFill"></div></div>
          </div>

        </section>

        <!-- Complete -->
        <section id="step-done" class="step" style="display:none">
          <h2>Complete</h2>
          <div class="success" style="margin-top:14px">
            <div class="check pulse"><i class="fas fa-check fa-2x" style="color:var(--accent)"></i></div>
            <div style="font-weight:700">Device processed</div>
            <div class="muted small">Follow on-screen steps: power-off → wait → power-on</div>

            <div style="margin-top:14px;width:100%">
              <div style="background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)">
                <div class="muted small">Unlock Receipt</div>
                <div style="margin-top:10px" id="receipt"></div>
              </div>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px">
              <button class="btn-primary" id="newUnlock">Start New</button>
              <a class="btn-ghost" href="https://wa.me/254780634300" target="_blank">Contact Support</a>
            </div>
          </div>
        </section>

      </main>

    </div>

    <footer>© MKOPA Solutions Ltd — Demo portal • This project simulates an unlock flow for UI/UX/testing only.</footer>
  </div>

  <!-- JS (all inline for single-file deliverable) -->
  <script>
    // -- Helpers
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    // Random device id generator
    function genDeviceId(imei){
      const base = imei ? imei.slice(-6) : Math.random().toString(36).slice(2,8);
      return 'MKP-'+base.toUpperCase()+'-'+Date.now().toString().slice(-5);
    }

    // Fake IP generator (visual only)
    function fakeIP(){ return ["41","102","192","88"][Math.floor(Math.random()*4)] +'.'+Math.floor(Math.random()*255)+'.'+Math.floor(Math.random()*255)+'.'+Math.floor(Math.random()*255);} 

    // Prefill demo data
    $('#prefill').addEventListener('click', e => {
      $('#deviceModel').value = 'Samsung Galaxy A10'; $('#deviceModel').dispatchEvent(new Event('input'));
      $('#imei').value = '350742091234568'; $('#imei').dispatchEvent(new Event('input'));
      $('#phone').value = '254712345678'; $('#mpesa').value='NC623H8WX2';
      toast('Demo data filled');
    });

    // Toast (simple)
    function toast(msg){
      const el = document.createElement('div'); el.textContent = msg; el.style.cssText='position:fixed;right:20px;bottom:20px;background:rgba(2,8,20,0.9);padding:10px 14px;border-radius:10px;color:#bfefff;box-shadow:0 6px 18px rgba(0,0,0,0.6)';document.body.appendChild(el);
      setTimeout(()=>el.style.opacity=0,1800); setTimeout(()=>el.remove(),2400);
    }

    // Device detection simulation (battery & network)
    function detectDevice(){
      // battery: use navigator.getBattery when available (browser dependent)
      if(navigator.getBattery){
        navigator.getBattery().then(batt => {
          const pct = Math.round(batt.level*100);
          $('#batteryVal').textContent = pct + '%';
        }).catch(_=> $('#batteryVal').textContent='--%');
      } else { $('#batteryVal').textContent = Math.floor(Math.random()*60)+30 + '%'; }

      // network
      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
      if(connection && connection.effectiveType){
        $('#netVal').textContent = connection.effectiveType;
      } else { $('#netVal').textContent = '4G'; }
    }

    // Form flow
    const deviceForm = $('#deviceForm');
    deviceForm.addEventListener('submit', e => {
      e.preventDefault();
      // basic validation
      const imei = $('#imei').value.trim();
      if(!/^\d{15}$/.test(imei)){ alert('IMEI must be 15 digits'); return; }

      // fill summary
      const summary = `Model: ${$('#deviceModel').value}\nIMEI: ${imei}\nPhone: ${$('#phone').value}\nMPESA: ${$('#mpesa').value}`;
      $('#summary').textContent = summary;

      // set metadata
      $('#deviceId').textContent = genDeviceId(imei);
      $('#ipFake').textContent = fakeIP();
      $('#ispFake').textContent = 'Safarinet (sim)';

      // move to verify
      showStep('verify'); detectDevice();
    });

    // navigation helpers
    function showStep(k){
      ['device','verify','unlock','done'].forEach(s=>{ const el = document.getElementById('step-'+(s==='device'?'device':s)); if(el) el.style.display = (s===k)?'block':'none'; });
    }

    // button actions
    document.getElementById('backToDevice').addEventListener('click', ()=>{ showStep('device'); });
    document.getElementById('toVerify').addEventListener('click', ()=>{}); // handled by form submit

    // authorize (admin)
    document.getElementById('authorize').addEventListener('click', e=>{
      e.preventDefault(); const pass = document.getElementById('adminPass').value.trim();
      // demo only: do not provide real bypass
      if(pass === 'letmein'){
        toast('Authorized — starting unlock');
        startUnlock();
      } else {
        alert('Admin password incorrect');
      }
    });

    // Start unlock simulation
    async function startUnlock(){
      showStep('unlock');
      const term = document.getElementById('terminal'); term.innerHTML='';
      const lines = [
        '> Initializing MKOPA unlock protocol...',
        '> Validating request...',
        '> Checking payment (MPESA)...',
        '> Generating temporary key...',
        '> Connecting to secure server...',
        '> Applying unlock operations (simulation)...',
        '> Verifying device status...',
        '> Finalizing...'
      ];

      for(let i=0;i<lines.length;i++){
        const d = document.createElement('div'); d.className='term-line'; d.textContent = lines[i]; d.style.animationDelay = (i*320)+'ms'; term.appendChild(d);
        // progress
        const pct = Math.min(95, Math.round((i+1)/lines.length*80)); updateProgress(pct);
        await wait(450 + Math.random()*200);
      }

      // simulate download
      await simulateDownload();

      updateProgress(100);
      setTimeout(()=>{
        showDone();
      },800);
    }

    function updateProgress(pct){ document.getElementById('progFill').style.width = pct + '%'; document.getElementById('progPct').textContent = pct + '%'; }

    function wait(ms){ return new Promise(res=>setTimeout(res,ms)); }

    async function simulateDownload(){
      const total = 12.4; let done=0; const step=0.7;
      while(done < total){
        await wait(180 + Math.random()*300);
        done += step + Math.random()*0.4; const pct = Math.min(99, Math.round(done/total*100)); updateProgress(pct);
        // append download line occasionally
        const d = document.createElement('div'); d.className='term-line'; d.textContent = `> Downloaded ${Math.min(total, done).toFixed(1)}MB / ${total}MB`;
        document.getElementById('terminal').appendChild(d);
      }
    }

    function showDone(){
      showStep('done');
      // receipt
      const rec = `DeviceID: ${document.getElementById('deviceId').textContent}\nModel: ${document.getElementById('deviceModel').value}\nIMEI: ${document.getElementById('imei').value}\nTransaction: ${document.getElementById('mpesa').value}\nProcessed at: ${new Date().toLocaleString()}`;
      document.getElementById('receipt').textContent = rec;
    }

    // start new
    document.getElementById('newUnlock').addEventListener('click', ()=>{
      // reset form
      document.getElementById('deviceForm').reset(); document.getElementById('adminPass').value=''; document.getElementById('terminal').innerHTML=''; updateProgress(0); showStep('device');
    });

    // show initial device info
    detectDevice();

    // accessibility: allow Enter to submit admin
    document.getElementById('adminPass').addEventListener('keyup', e => { if(e.key === 'Enter') document.getElementById('authorize').click(); });

    // simple minor polish: animate KPI number
    (function(){const el = document.getElementById('kpi-sessions'); let n=3; setInterval(()=>{n = 2 + Math.floor(Math.random()*6); el.textContent = n},4200)} )();

    // Important: this file is a UI simulation only. I will not provide code or steps to bypass manufacturer security, FRP locks, carrier locks, or other protections. If you own a device and require a legitimate unlock, contact MKOPA or the device manufacturer and provide proof of ownership.
  </script>
</body>
</html>
